[Источник]
git clone https://github.com/FFmpeg/FFmpeg.git

[required]
sudo apt-get install yasm /* флаг по возможности не использовать --allow-unauthenticated */
sudo apt-get install libv4l-dev

[recommended]
sudo apt-get install libx264-dev libx265-dev

cd ~/FFmpeg
git checkout -f && git clean -dfx

FFMPEG_VERSION=4.4; \
export FFMPEG_PATH=/opt/ffmpeg/${FFMPEG_VERSION}; \
echo "FFMPEG_VERSION: $FFMPEG_VERSION"; \
echo "FFMPEG_PATH: $FFMPEG_PATH" \

sed -r 's/enabled rpath \&\& add_ldexeflags.*/enabled rpath \&\& add_ldsoflags -Wl,-z,origin \&\& add_ldsoflags -Wl,-rpath,AORIGIN/' \
    -i configure; \
sed -r 's/.*enabled rpath \&\& echo.*/rpath=-Wl,-z,origin -Wl,-rpath,\\\$ORIGIN/' \
    -i configure \

./configure \
  --prefix=$FFMPEG_PATH \
  --disable-static \
  --disable-doc \
  --enable-shared \
  --enable-rpath \
  --enable-pic \
  --extra-ldexeflags=-pie \

Для сборки со сторонним компилятором добавить
  --cc=/opt/gcc/8.4.0/bin/gcc \
  --cxx=/opt/gcc/8.4.0/bin/g++ \


make -j$(nproc) && sudo make install

sudo find ${FFMPEG_PATH}/lib -maxdepth 1 -type f -exec chrpath -r '$ORIGIN' {} \;

git checkout -f && git clean -dfx
